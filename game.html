<!DOCTYPE html>
<!--head-->
<head>
    <!--meta-->
    <title>main frame pre-alpha</title>
    <link href='game.css?version=2' rel='stylesheet'></link>
    <link rel="icon" type="image/x-icon" href="https://i.imgur.com/9yk0ckn.png">
</head>
<!--body-->
<body>

<header>
    <nav>
        <article>
            <span><h1>Mainframe</h1></span>
        </article>
    </nav>
</header>

<!--right area-->
<div class="mainArea">
    
    <!-- User DIV -->
    <div id="userPan">
    <div id="dragdiv">
    <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
    <div id="dragdivheader"><span>root/user</span></div>
    <p contenteditable="true" id="hackerNameDisplay" class="single-line">Guest</p>
    <p id="cryptoDisplay" class="single-line">0</p>
    </div>
    </div>
    
    <!-- Shop DIV -->
    <div id="shopPan">
    <div id="dragdiv2">
    <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
    <div id="dragdivheader2"><span>root/shop</span></div>
    <p>shop</p>
    </div>
    </div>

    <!-- Shop DIV -->
    <div id="terminalPan">
        <div id="dragdiv3">
        <!-- Include a header DIV with the same name as the draggable DIV, followed by "header" -->
        <div id="dragdivheader3"><span>root/prompt</span></div>
        <p>terminal</p>
        </div>
        </div>

</div>

<!--left area-->
<div class="sideBar">
    <div class="sideGrid">
        <!--icon-->
        <div class="iconHoverOutline">
        <div class="desktopIcon">
        <img draggable="false" onclick="toggleUserpan()" src="https://i.imgur.com/BmSkOoh.png" alt="User" height="100%" width="100%">
        <h3 class="iconText">User</h3>
        </div>
        </div>
<br> <!--lil break to space things out -->
        <!--icon-->
        <div class="iconHoverOutline">
        <div class="desktopIcon">
        <img draggable="false" onclick="toggleShop()" src="https://i.imgur.com/d46M4IT.png" alt="Shop" height="100%" width="100%">
        <h3 class="iconText">Shop</h3>
        </div>
        </div>
<br> <!--lil break to space things out -->
        <!--icon-->
        <div class="iconHoverOutline">
        <div class="desktopIcon">
        <img draggable="false" onclick="toggleTerminal()" src="https://i.imgur.com/RLnYgGc.png" alt="Terminal" height="100%" width="100%">
        <h3 class="iconText">Terminal</h3>
        </div>
        </div>

    </div>
</div>

<!--script links-->
<script src="drag.js"></script>
<script src="scripts/setupVars.js"></script>
<script src="scripts/saveVars.js"></script>

<!--input scripts-->
<script>

//PANEL TOGGLE LATCHES//
/*inital window hide*/
document.getElementById("userPan").hidden = true; //hide user profile
document.getElementById("shopPan").hidden = true; //hide shop
document.getElementById("terminalPan").hidden = true; //hide terminal

/*toggle user panel*/
function toggleUserpan(){
    var PanObj = document.getElementById("userPan");
    if (PanObj.hidden == false){
    PanObj.hidden = true;
    }
    else
    {
    PanObj.hidden = false;
    }
}

/*toggle shop menu*/
function toggleShop(){
    var PanObj = document.getElementById("shopPan");
    if (PanObj.hidden == false){
    PanObj.hidden = true;
    }
    else
    {
    PanObj.hidden = false;
    }
}

/*toggle input terminal*/
function toggleTerminal(){
    var PanObj = document.getElementById("terminalPan");
    if (PanObj.hidden == false){
    PanObj.hidden = true;
    }
    else
    {
    PanObj.hidden = false;
    }
}

//INTERACTIONS//
/*username field input*/
    var input = document.getElementById("hackerNameDisplay");
    input.addEventListener("keyup", function(event) {
    // Number 13 is the "Enter" key on the keyboard
    if (event.keyCode === 13) {
    // Cancel the default action, if needed
    event.preventDefault();
    // Trigger
    hackerName = document.getElementById("hackerNameDisplay").textContent;
    }
    });
    

/*var to displays*/
function displayVarLoad(){
    document.getElementById("hackerNameDisplay").innerHTML = hackerName;
    document.getElementById("cryptoDisplay").innerHTML = cyptoCoins + " crypto";
}

/*save loop*/
setInterval(function(){
    saveGame();
},3000);


/*cntrl s override*/
document.addEventListener("keydown",function(event){
    if (event.ctrlKey && event.which == 83){ //cntrl + s
        event.preventDefault();
        saveGame();
    }
},false);

/*runs the display function one*/
displayVarLoad();
</script>
</body>